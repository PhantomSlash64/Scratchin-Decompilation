using System;
using System.Collections.Generic;
using System.Runtime.CompilerServices;
using Rewired;
using Rewired.Utils.Classes.Data;

internal class MOJCxkXdAdhLfgRKXCgAhUcySKt<T> where T : class
{
	private class quBwFZSliAzJFlyUAaywGwfpcil
	{
		public readonly T LnyfpjYmNSooEHCcwajspKfvgMZb;

		public readonly int kEHmRBonufPaXwWSSWlSciOdvWy;

		public quBwFZSliAzJFlyUAaywGwfpcil(T listener, int controllerType)
		{
			LnyfpjYmNSooEHCcwajspKfvgMZb = listener;
			kEHmRBonufPaXwWSSWlSciOdvWy = controllerType;
		}
	}

	[CompilerGenerated]
	private sealed class EatDBNrLxTKZLvNnymwkuSFXrPc
	{
		public T LnyfpjYmNSooEHCcwajspKfvgMZb;

		public bool lGFRkYkqkYiJozFRQoqdoljehis(quBwFZSliAzJFlyUAaywGwfpcil P_0)
		{
			if (EqualityComparer<T>.Default.Equals(P_0.LnyfpjYmNSooEHCcwajspKfvgMZb, LnyfpjYmNSooEHCcwajspKfvgMZb))
			{
				return P_0.kEHmRBonufPaXwWSSWlSciOdvWy == int.MinValue;
			}
			return false;
		}
	}

	[CompilerGenerated]
	private sealed class dXPoeGLBoCkzYCgftGPkRYtkIKH
	{
		public T LnyfpjYmNSooEHCcwajspKfvgMZb;

		public ControllerType kEHmRBonufPaXwWSSWlSciOdvWy;

		public bool VviIaxkQiJRHIjmTwjWOZCYCOMP(quBwFZSliAzJFlyUAaywGwfpcil P_0)
		{
			if (EqualityComparer<T>.Default.Equals(P_0.LnyfpjYmNSooEHCcwajspKfvgMZb, LnyfpjYmNSooEHCcwajspKfvgMZb))
			{
				return P_0.kEHmRBonufPaXwWSSWlSciOdvWy == (int)kEHmRBonufPaXwWSSWlSciOdvWy;
			}
			return false;
		}
	}

	[CompilerGenerated]
	private sealed class QvKUtZWYFpAvCVjqAKSxNwonjCg
	{
		public T LnyfpjYmNSooEHCcwajspKfvgMZb;

		public bool iJveMccNTFSucGRvbFwOnLvDyJik(quBwFZSliAzJFlyUAaywGwfpcil P_0)
		{
			return EqualityComparer<T>.Default.Equals(P_0.LnyfpjYmNSooEHCcwajspKfvgMZb, LnyfpjYmNSooEHCcwajspKfvgMZb);
		}
	}

	[CompilerGenerated]
	private sealed class nrgBsRElBEcUxyocesFwCvzHRpZA
	{
		public T LnyfpjYmNSooEHCcwajspKfvgMZb;

		public ControllerType kEHmRBonufPaXwWSSWlSciOdvWy;

		public bool gFPrDWndfOzhxInASQdjHUVETKa(quBwFZSliAzJFlyUAaywGwfpcil P_0)
		{
			if (EqualityComparer<T>.Default.Equals(P_0.LnyfpjYmNSooEHCcwajspKfvgMZb, LnyfpjYmNSooEHCcwajspKfvgMZb))
			{
				return P_0.kEHmRBonufPaXwWSSWlSciOdvWy == (int)kEHmRBonufPaXwWSSWlSciOdvWy;
			}
			return false;
		}
	}

	private const int iTuSYAItZsoIhBpsrIKzuJwaJAo = int.MinValue;

	public int ioXgUGjpFGeVuGnqwbPHBeKgnSzF;

	private readonly AList<quBwFZSliAzJFlyUAaywGwfpcil> mDLiSWYwiVbkMETzjeOTcgDRppd;

	public MOJCxkXdAdhLfgRKXCgAhUcySKt()
	{
		mDLiSWYwiVbkMETzjeOTcgDRppd = new AList<quBwFZSliAzJFlyUAaywGwfpcil>();
	}

	public void gRNxgJKbZDnZvauDcPQdINSMaiI(T P_0)
	{
		if (P_0 != null && mDLiSWYwiVbkMETzjeOTcgDRppd.FindIndex((quBwFZSliAzJFlyUAaywGwfpcil P_0) => EqualityComparer<T>.Default.Equals(P_0.LnyfpjYmNSooEHCcwajspKfvgMZb, P_0) && P_0.kEHmRBonufPaXwWSSWlSciOdvWy == int.MinValue) < 0)
		{
			mDLiSWYwiVbkMETzjeOTcgDRppd.Add(new quBwFZSliAzJFlyUAaywGwfpcil(P_0, int.MinValue));
			OqzaoXPavQnXtRqvfhltMiTjopB();
		}
	}

	public void gRNxgJKbZDnZvauDcPQdINSMaiI(T P_0, ControllerType P_1)
	{
		if (P_0 != null && mDLiSWYwiVbkMETzjeOTcgDRppd.FindIndex((quBwFZSliAzJFlyUAaywGwfpcil P_0) => EqualityComparer<T>.Default.Equals(P_0.LnyfpjYmNSooEHCcwajspKfvgMZb, P_0) && P_0.kEHmRBonufPaXwWSSWlSciOdvWy == (int)P_1) < 0)
		{
			mDLiSWYwiVbkMETzjeOTcgDRppd.Add(new quBwFZSliAzJFlyUAaywGwfpcil(P_0, (int)P_1));
			OqzaoXPavQnXtRqvfhltMiTjopB();
		}
	}

	public void VeJYJnGjavQKYzEHvtxpfPYEFCh(T P_0)
	{
		if (P_0 != null)
		{
			mDLiSWYwiVbkMETzjeOTcgDRppd.RemoveAll((quBwFZSliAzJFlyUAaywGwfpcil P_0) => EqualityComparer<T>.Default.Equals(P_0.LnyfpjYmNSooEHCcwajspKfvgMZb, P_0));
			OqzaoXPavQnXtRqvfhltMiTjopB();
		}
	}

	public void VeJYJnGjavQKYzEHvtxpfPYEFCh(T P_0, ControllerType P_1)
	{
		if (P_0 != null)
		{
			mDLiSWYwiVbkMETzjeOTcgDRppd.RemoveAll((quBwFZSliAzJFlyUAaywGwfpcil P_0) => EqualityComparer<T>.Default.Equals(P_0.LnyfpjYmNSooEHCcwajspKfvgMZb, P_0) && P_0.kEHmRBonufPaXwWSSWlSciOdvWy == (int)P_1);
			OqzaoXPavQnXtRqvfhltMiTjopB();
		}
	}

	public void kEvMEkTbxLbgmPOeAjHNFzhEQCWE(int P_0, Controller P_1)
	{
		tVKqwXOFgvpSghOGdkclktQflDc(P_0, P_1, int.MinValue);
	}

	public void kEvMEkTbxLbgmPOeAjHNFzhEQCWE(int P_0, Controller P_1, ControllerType P_2)
	{
		tVKqwXOFgvpSghOGdkclktQflDc(P_0, P_1, (int)P_2);
	}

	private void tVKqwXOFgvpSghOGdkclktQflDc(int P_0, Controller P_1, int P_2)
	{
		for (int i = 0; i < mDLiSWYwiVbkMETzjeOTcgDRppd._count; i++)
		{
			if (mDLiSWYwiVbkMETzjeOTcgDRppd[i].kEHmRBonufPaXwWSSWlSciOdvWy == P_2)
			{
				KafqunbnZKYAVzahhIpWkraFgJVu(mDLiSWYwiVbkMETzjeOTcgDRppd[i], P_0, P_1);
			}
		}
	}

	public void LlCkzvOeJVaCziTDPktzBWuYotAZ()
	{
		mDLiSWYwiVbkMETzjeOTcgDRppd.Clear();
		OqzaoXPavQnXtRqvfhltMiTjopB();
	}

	private void KafqunbnZKYAVzahhIpWkraFgJVu(quBwFZSliAzJFlyUAaywGwfpcil P_0, int P_1, Controller P_2)
	{
		if (P_0 == null)
		{
			return;
		}
		try
		{
			if (P_1 == -1)
			{
				if (P_0.LnyfpjYmNSooEHCcwajspKfvgMZb is ActiveControllerChangedDelegate)
				{
					(P_0.LnyfpjYmNSooEHCcwajspKfvgMZb as ActiveControllerChangedDelegate)(P_2);
				}
				return;
			}
			Player player = ReInput.kRIMscNTqYOjJDgtnNDWfmLNvzj.fFKuoGTmbMrpFMTwXsWqdvvrhNG(P_1);
			if (player == null)
			{
				Logger.LogError("Invalid playerId in LastActiveControllerEventSet.");
			}
			else if (P_0.LnyfpjYmNSooEHCcwajspKfvgMZb is PlayerActiveControllerChangedDelegate)
			{
				(P_0.LnyfpjYmNSooEHCcwajspKfvgMZb as PlayerActiveControllerChangedDelegate)(player, P_2);
			}
		}
		catch (Exception exception)
		{
			ReInput.HandleCallbackException("Last active controller changed event callback", exception);
		}
	}

	private void OqzaoXPavQnXtRqvfhltMiTjopB()
	{
		ioXgUGjpFGeVuGnqwbPHBeKgnSzF = mDLiSWYwiVbkMETzjeOTcgDRppd._count;
	}
}
